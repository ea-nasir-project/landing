---
import type { BreadcrumbItem } from "@/utils/breadcrumbs";

interface Props {
  breadcrumbs: BreadcrumbItem[];
  color?: "emerald" | "purple" | "cyan" | "amber";
}

const { breadcrumbs, color = "emerald" } = Astro.props;

const colorMap = {
  emerald: {
    hover: "hover:text-emerald-600",
    last: "text-emerald-800",
  },
  purple: {
    hover: "hover:text-purple-600",
    last: "text-purple-800",
  },
  cyan: {
    hover: "hover:text-cyan-600",
    last: "text-cyan-800",
  },
  amber: {
    hover: "hover:text-amber-600",
    last: "text-amber-800",
  },
};

const theme = colorMap[color];
---

<nav aria-label="Breadcrumb" class="container mx-auto px-4 md:px-8 py-4">
  <ol role="list" class="flex items-center space-x-2 text-sm text-gray-500">
    <li>
      <a href="/" class={`flex items-center transition-colors ${theme.hover}`}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true"
          class="size-5 shrink-0"
        >
          <path
            fill-rule="evenodd"
            d="M9.293 2.293a1 1 0 0 1 1.414 0l7 7A1 1 0 0 1 17 11h-1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6H3a1 1 0 0 1-.707-1.707l7-7Z"
            clip-rule="evenodd"></path>
        </svg>
        <span class="sr-only">Home</span>
      </a>
    </li>

    {
      breadcrumbs.map((crumb) => (
        <li class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true"
            class="size-5 shrink-0 text-gray-400"
          >
            <path
              fill-rule="evenodd"
              d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd"
            />
          </svg>
          {crumb.isLast ? (
            <span class={`ml-2 font-medium ${theme.last}`} aria-current="page">
              {crumb.label}
            </span>
          ) : (
            <a href={crumb.href} class={`ml-2 font-medium ${theme.hover}`}>
              {crumb.label}
            </a>
          )}
        </li>
      ))
    }
  </ol>
</nav>
